@startuml
title A6.2: Diagrama de Actividades - Validación de Pagos Manuales

|#skyblue|Coordinación|
start
:Accede a la sección de "Validaciones";
:Selecciona "Validar Pagos Manuales";

|#whitesmoke|Módulo administrativo|
:Muestra lista de inscripciones con estado
"Pendiente de Verificación de Pago";

|#skyblue|Coordinación|
:Selecciona una inscripción;
:Deriva a Contabilidad para validación;

|#lightgreen|Contabilidad|
:Revisa el comprobante de pago;
:Identifica el método de pago;
note right
  Métodos disponibles:
  - Depósito en ventanilla bancaria
  - Transferencia electrónica bancaria
  - Pago en efectivo en caja (<$2,000 MXN)
  - Tarjeta crédito/débito (Visa/MasterCard)
  - Tarjeta MSI (≥$3,000 MXN, Visa/MasterCard)
  - Pago mediante enlace
end note

if (¿Método de pago?) then (Depósito bancario)
  :Verifica comprobante de depósito en PDF
  recibido en correo@institucion.mx;
elseif (Transferencia electrónica) then 
  :Valida comprobante en PDF recibido
  en correo@institucion.mx y
  confirma en plataforma bancaria;
elseif (Efectivo en caja) then
  :Confirma recibo físico y monto <$2,000;
elseif (Tarjeta crédito/débito) then
  :Verifica transacción Visa/MasterCard;
elseif (Tarjeta MSI) then
  :Confirma pago ≥$3,000 y Visa/MasterCard;
else (Pago mediante enlace)
  |#orange|Equipo de ventas|
  :Solicita enlace de pago;
  |#whitesmoke|Módulo administrativo|
  :Registra solicitud de enlace;
  :Deriva al Departamento de Tecnologías;
  |#pink|Dpto. Tecnologías|
  :Genera enlace de pago;
  |#whitesmoke|Módulo administrativo|
  :Recibe enlace generado;
  :Notifica al Equipo de ventas;
  |#orange|Equipo de ventas|
  :Recibe enlace en ≤1 día hábil;
  :Remite enlace al participante;
  |#whitesmoke|Módulo administrativo|
  :Registra envío de enlace;
  |#lightgreen|Contabilidad|
  :Verifica pago completado
  mediante enlace;
endif

if (¿El pago se confirma?) then (Sí)
  :Hace clic en "Confirmar Pago";
  |#whitesmoke|Módulo administrativo|
  :Actualiza estado a "Pagada";
  :Envía email de confirmación
  de inscripción al participante;
else (No)
  :Hace clic en "Rechazar Pago";
  |#whitesmoke|Módulo administrativo|
  :Solicita un motivo (ej. monto incorrecto);
  |#lightgreen|Contabilidad|
  :Ingresa el motivo;
  |#whitesmoke|Módulo administrativo|
  :Actualiza estado a "Pago Rechazado";
  :Notifica al participante sobre el problema;
endif
stop
@enduml